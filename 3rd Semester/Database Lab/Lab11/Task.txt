// Creating Tables

CREATE TABLE Employee
(
	ID Number PRIMARY KEY,
	Name VARCHAR2(30),
	Salary Number
);

// Inserting values

INSERT INTO Employee Values(1, 'A', 200);
INSERT INTO Employee Values(2, 'B', 500);
INSERT INTO Employee Values(3, 'C', 1100);

// PL_SQL

CREATE OR REPLACE PROCEDURE
FindSalary(N IN NUMBER) as TMP NUMBER;
SName VARCHAR2(10);

BEGIN
	SELECT Salary, Name INTO TMP, SName
	FROM Employee
	WHERE N = ID;
		IF(TMP>1000) THEN DBMS_OUTPUT.PUT_LINE(SName || ' HIGH');
		ELSIF(TMP>400) THEN DBMS_OUTPUT.PUT_LINE(SName || ' MID');
		ELSE DBMS_OUTPUT.PUT_LINE(SName || ' LOW');
	END IF;
END FindSalary;
/

SET SERVEROUT ON;
DECLARE
	ID NUMBER;
BEGIN
	ID:=2;
	FindSalary(ID);
END;
/

CREATE USER USER_ADMIN IDENTIFIED BY ABC;
CREATE USER USER_JR IDENTIFIED BY ABC;
CREATE USER USER_RC IDENTIFIED BY ABC;
CREATE USER USER_HR IDENTIFIED BY ABC;

GRANT CONNECT TO USER_ADMIN;
GRANT CONNECT TO USER_JR;
GRANT CONNECT TO USER_RC;
GRANT CONNECT TO USER_HR;

CREATE ROLE SRole;
GRANT SELECT ON Lab11.Employee TO SRole;
GRANT SRole TO USER_RC;

CREATE ROLE SIRole;
GRANT SELECT, INSERT ON Lab11.Employee TO SIRole;
GRANT SIRole TO USER_HR;

CREATE ROLE URole;
GRANT UPDATE ON Lab11.Employee TO URole;
GRANT SIRole TO URole;
GRANT URole TO USER_JR;

CREATE ROLE DRole;
GRANT SELECT ON Lab11.Employee TO DRole;
GRANT URole TO DRole;
GRANT DRole to USER_ADMIN;